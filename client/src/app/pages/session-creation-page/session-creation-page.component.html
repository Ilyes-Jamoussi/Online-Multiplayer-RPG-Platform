<app-ui-page-layout [hasHeader]="true" headerTitle="Choose a Game" [showBackButton]="true" (backClick)="onBack()">
    <div class="games-section">
        <div class="tabs-container">
            <button class="tab-button" [class.active]="activeTab() === 'all'" (click)="setActiveTab('all')">
                <span class="tab-icon">ğŸ“‹</span>
                <span class="tab-label">All</span>
                <span class="tab-count">({{ allCount }})</span>
            </button>
            <button class="tab-button" [class.active]="activeTab() === 'classic'" (click)="setActiveTab('classic')">
                <span class="tab-icon">âš”ï¸</span>
                <span class="tab-label">Classic</span>
                <span class="tab-count">({{ classicCount }})</span>
            </button>
            <button class="tab-button" [class.active]="activeTab() === 'ctf'" (click)="setActiveTab('ctf')">
                <span class="tab-icon">ğŸš©</span>
                <span class="tab-label">Capture the Flag</span>
                <span class="tab-count">({{ ctfCount }})</span>
            </button>
        </div>

        <div class="tab-content">
            @if (visibleGames().length > 0) {
            <div class="games-grid">
                @for (game of visibleGames(); track game.id) {
                <app-game-preview-card [game]="game" [isAdmin]="false" (startGame)="onStartGame($event)"></app-game-preview-card>
                }
            </div>
            } @else {
            <div class="no-games-message">
                <span class="no-games-icon">{{ activeTab() === 'all' ? 'ğŸ“‹' : activeTab() === 'classic' ? 'âš”ï¸' : 'ğŸš©' }}</span>
                <h2>No {{ activeTab() === 'all' ? '' : activeTab() === 'classic' ? 'classic' : 'CTF' }} games available</h2>
                <p>There are currently no games{{ activeTab() === 'all' ? '' : ' in this mode' }}.</p>
            </div>
            }
        </div>
    </div>
</app-ui-page-layout>
