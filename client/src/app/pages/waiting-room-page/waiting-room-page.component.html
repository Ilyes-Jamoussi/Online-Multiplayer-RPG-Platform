<app-ui-page-layout [hasHeader]="true" [hasFooter]="true" [showBackButton]="true" headerTitle="Salle d'attente" (backClick)="onBack()">
    <div class="room-header">
        <app-room-code></app-room-code>
    </div>

    <div class="room-sections">
        <div class="players-section">
            <div class="players-list">
                <div class="header">
                    <h2>Joueurs</h2>
                    <span class="player-count">{{ players().length }} / {{ maxPlayers() }}</span>
                </div>
                <div class="players-grid">
                    @for (player of players(); track player.id) {
                        <app-player-card [player]="player" />
                    }
                </div>
                @if (isRoomLocked()) {
                    <div class="lock-message">
                        <i class="material-icons">lock</i>
                        La salle est verrouill√©e, plus aucun joueur ne peut la rejoindre
                    </div>
                }
            </div>
        </div>
        <div class="chat-section">
            <app-chat></app-chat>
        </div>
    </div>

    <div slot="footer">
        <app-waiting-room-actions></app-waiting-room-actions>
    </div>
</app-ui-page-layout>
