@use 'theme' as *;
@use 'sass:map';

// ==================== CHECKBOX COMPONENT ====================
.uiCheckbox {
    @include ui-hover-brightness;
    @include ui-active-effects;
    @include ui-popout-effects;
    @include ui-focus-state;
    @include ui-disabled-state;
    // Base + layout
    display: inline-flex;
    align-items: center;
    gap: ui-gap(sm);
    cursor: pointer;
    color: ui-contrast(primary);

    // ---------- Sous-éléments ----------
    .checkbox-box {
        @include ui-component-base;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: ui-size(md, icon-size);
        height: ui-size(md, icon-size);
        border-radius: ui-shape(square);
        box-shadow: ui-elevation(xs);
        background: $ui-white; // fond neutre
    }

    .checkbox-indicator {
        line-height: 1;
        @include ui-size-variants;
    }

    .checkbox-label {
        // le texte
        user-select: none;
        @include ui-size-variants;
        @include ui-contrast-colors;
    }

    &.isChecked .checkbox-box {
        background: ui-color(primary);
        border-color: $ui-border;
        box-shadow: ui-elevation(sm);

        + .checkbox-indicator,
        .checkbox-indicator {
            opacity: 1;
            color: ui-contrast(primary);
            @include ui-size-variants;
        }
    }

    &.isIndeterminate .checkbox-box {
        background: ui-color(primary);
        border-color: $ui-border;
        .checkbox-indicator {
            opacity: 1;
            color: ui-contrast(primary);
            @include ui-size-variants;
        }
    }

    &.isDisabled .checkbox-box {
        background: $ui-disabled-bg !important;
        border-color: $ui-disabled-border !important;
        box-shadow: 4px 4px 0 $ui-disabled-shadow !important;
        @include ui-size-variants;
    }

    // Hover/active ciblés sur le carré (pour un ressenti plus tactile)
    &:hover:not(.isDisabled) .checkbox-box {
        @include ui-hover-brightness;
        @include ui-size-variants;
    }
    &:active:not(.isDisabled) .checkbox-box {
        @include ui-active-effects;
        @include ui-size-variants;
    }

    .checkbox-box {
        @include ui-size-variants;
        @include ui-shape-variants;
        @include ui-elevation-variants;
        @include ui-size-variants;
    }
}
