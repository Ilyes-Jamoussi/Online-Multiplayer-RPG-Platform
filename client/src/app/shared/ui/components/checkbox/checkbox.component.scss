@use 'theme' as *;

// ==================== CHECKBOX COMPONENT ====================
.uiCheckbox {
    // Base component setup
    @include ui-component-base;

    // Layout and display
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    gap: ui-gap(sm);

    // Remove border from container (checkbox-box has its own)
    border: none;
    background: transparent;

    // Default size
    font-size: ui-size(md, font-size);

    // Checkbox box element
    .checkbox-box {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: 2px solid $ui-border;
        background: $ui-white;
        box-shadow: ui-elevation(xs);
        border-radius: ui-shape(square);
        position: relative;

        // Default size
        width: ui-size(md, icon-size);
        height: ui-size(md, icon-size);
    }

    // Checkbox indicator (checkmark)
    .checkbox-indicator {
        display: flex;
        align-items: center;
        justify-content: center;
        line-height: 1;
        font-size: 1.1em;
        opacity: 0;
        transition: opacity ui-transition(fast) ui-easing(ease);
        width: 1em;
        height: 1em;
        pointer-events: none;
        color: ui-contrast(primary);

        &.visible {
            opacity: 1;
        }
    }

    // Label text
    .checkbox-label {
        display: inline-flex;
        align-items: center;
        user-select: none;
    }

    // Checked state styling
    &.isChecked .checkbox-box {
        background: ui-color(primary);
        border-color: darken(ui-color(primary), 10%);
    }

    // Apply consistent states
    @include ui-disabled-state;
    @include ui-focus-state;

    // Custom hover effects for checkbox
    &:hover:not(.isDisabled) .checkbox-box {
        transform: translate(ui-interaction(hover-translate));
        box-shadow: ui-interaction(hover-shadow-offset) ui-interaction(hover-shadow-offset) 0 $ui-shadow;
    }

    &:hover.popOut:not(.isDisabled) .checkbox-box {
        transform: translate(ui-interaction(hover-translate));
        box-shadow: ui-interaction(hover-shadow-offset) ui-interaction(hover-shadow-offset) 0 $ui-shadow;
    }

    &:active:not(.isDisabled) .checkbox-box {
        transform: translate(ui-interaction(active-translate));
        box-shadow: ui-interaction(active-shadow-offset) ui-interaction(active-shadow-offset) 0 $ui-shadow;
    }

    // Variant colors for checked state
    @each $name, $color in $ui-colors {
        &.v-#{$name}.isChecked .checkbox-box {
            background: $color;
            border-color: darken($color, 10%);

            .checkbox-indicator {
                color: ui-contrast($name);
            }
        }
    }

    // Size variants
    &.s-sm {
        font-size: ui-size(sm, font-size);
        .checkbox-box {
            width: ui-size(sm, icon-size);
            height: ui-size(sm, icon-size);
        }
    }

    &.s-lg {
        font-size: ui-size(lg, font-size);
        .checkbox-box {
            width: ui-size(lg, icon-size);
            height: ui-size(lg, icon-size);
        }
    }

    // Shape variants for checkbox box
    @each $name, $radius in $ui-shapes {
        &.sh-#{$name} .checkbox-box {
            border-radius: if($name == pill, 50%, $radius);
        }
    }

    // Elevation variants for checkbox box
    @each $level, $shadow in $ui-elevations {
        &.elev-#{$level} .checkbox-box {
            box-shadow: $shadow;
        }
    }
}
